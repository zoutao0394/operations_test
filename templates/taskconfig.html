{% extends 'home.html' %}
{% block MainContainer %}
<div class="container">
  <div class="row">
    <!--<div class="col-sm-4">-->
      <!--<h2>任务配置</h2>-->

      <!--<ul class="nav nav-pills nav-stacked">-->
        <!--<li class="active"><a href="#">测试任务</a></li>-->
          <!--<li><a href="#">其他任务</a></li>-->
        <!--&lt;!&ndash;<li class="active"><a href="#">附加测试权限</a></li>&ndash;&gt;-->

      <!--</ul>-->
      <!--<hr class="hidden-sm hidden-md hidden-lg">-->
    <!--</div>-->

    <div class="col-sm-32">
      <h2>任务管理</h2>
        <h5 id="warehouse"></h5>
        <h5 id="user"></h5>

            <!--<button type="button" class="btn btn-primary">查看任务</button>-->
        <button type='button' class='btn btn-primary' name='starttask'>启动任务</button>
        <button type='button' class='btn btn-info' name='taskdetail'>任务详情</button>
            <button type="button" class="btn btn-primary"  data-target="#createtask" data-toggle="modal" id="createtask1">新增任务</button>

                <button type="button" class="btn btn-info" name="report">查看报告</button>
        <!--<a href="/static/report/20200602164052WMS创建手工出库单.jtl"><button>点击</button></a>-->
         <button type="button" class="btn btn-danger" title="强行停止任务"  name='stoptask'>终止任务</button>
        <div style="height:700px;overflow:scroll">
        <table class="table table-hover">
        <caption>任务列表</caption>
        <thead>
            <tr>
                <th>请选择</th>
                <th>任务名</th>
                <th>执行方式</th>
                <th>任务状态</th>
                <th>执行时间</th>
                <!--<th title="初始化之后可至测试报告手动下载报告">初始化报告</th>-->

            </tr>
        </thead>
        <tbody  id="taskdetail">

        </tbody>
    </table>
            </div>

    </div>
  </div>
</div>
<div class="modal fade" id="createtask" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog" style="width:800px">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h3 class="modal-title" id="myModalLabel">新增任务</h3>
                <h5 class="modal-title">UAT-测试任务；用例会在UAT环境执行。PRD-测试任务；任务会在正式环境执行</h5>
            </div>
            <div class="modal-body">


        <br>
            <div class="input-group">
            <span class="input-group-addon">任务名称:</span>
            <input type="text" class="form-control" id="tasktittle" placeholder="任务名称">
        </div>
        <br>
        <div class="input-group">
            <span class="input-group-addon">执行方式:</span>
            <!--<input type="text" class="form-control" id="startmode" placeholder="执行方式">-->
            <select name="startmode" id="startmode" class="form-control">
                <option value="手动执行">手动执行</option>
                <option value="定时循环执行">定时循环执行</option>
                <option value="指定时间执行">指定时间执行</option>
            </select>
        </div>
                <br>
                        <div class="input-group">
            <span class="input-group-addon">组建方式:</span>
            <!--<input type="text" class="form-control" id="startmode" placeholder="执行方式">-->
            <select name="startmode" id="taskgroup" class="form-control">
                <option value="1">按用例创建</option>
                <option value="2">按流程创建</option>
                <option value="3">自定义创建</option>
            </select>
        </div>
                <br>
                    <div class="input-group">
            <span class="input-group-addon">流程名称:</span>
            <input type="text" class="form-control" id="groupname" placeholder="组建方式选择按流程组建生效，多个流程使用‘；’隔开。">
        </div>
                  <br>
                  <br>

                <div style="height:500px;overflow:scroll">
        <table class="table table-hover">
        <thead>
            <tr>
                <th>请选择</th>
                <th>编号</th>
                <th>系统</th>
                <th>流程</th>
                <th>标题</th>
            </tr>
        </thead>
        <tbody  id="taskcasedetail">
        </tbody>
    </table>
          <ul class="pagination">
</ul>
            </div>

            <!--<div class="input-group">-->
            <!--<span class="input-group-addon">用例详情:</span>-->

                <!--<textarea class="form-control" rows="8" placeholder="描述每个脚本的主要测试点。" id="detail"></textarea>-->



            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                <button type="button" class="btn btn-primary"   name="createtask">确认</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>
<div class="modal fade" id="task" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">当前任务-用例详情</h4>
            </div>
            <div class="modal-body">

                <div>
        <table class="table table-hover">
        <thead>
            <tr>
                <!--<th>请选择</th>-->
                <th>编号</th>
                <th>系统</th>
                <th>流程</th>
                <th>标题</th>
            </tr>
        </thead>
        <tbody  id="taskcase">
        </tbody>
    </table>
          <ul class="pagination">
</ul>
            </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                <!--<button type="button" class="btn btn-primary"   name="createtask">确认</button>-->
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>
<div class="modal fade" id="taskreport" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog" style="width:1200px">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h2 class="modal-title">测试报告</h2>
                <h5 class="modal-title">当前只显示最新报告，更多报告请在测试报告模块下载</h5>
            </div>
            <div class="modal-body" style="height:700px;overflow:scroll">

                <div>
        <table class="table table-hover" width="100%" border="1" cellpadding="0" cellspacing="0" style="fixed;word-break:break-all">
        <thead>
            <tr>
                <!--<th>请选择</th>-->
                <th width="200">线程组</th>
                <th width="200">标题</th>
                <th width="100">请求次数</th>
                <th width="100">成功次数</th>
                <th width="100">失败次数</th>
                <th width="300">URL</th>
                <th width="300">错误详情</th>
            </tr>
        </thead>
        <tbody  id="taskreportdetail">
        </tbody>
    </table>
            </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                <!--<button type="button" class="btn btn-primary"   name="createtask">确认</button>-->
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>
{% endblock %}